document.addEventListener("DOMContentLoaded",()=>{const r=document.querySelectorAll("[data-tab]"),d=document.querySelectorAll("[data-for-tab]");function n(t){r.forEach(e=>{e.classList.toggle("active",e.dataset.tab===t)}),d.forEach(e=>{e.classList.toggle("active",e.dataset.forTab===t)})}if(r){r.forEach(e=>{e.addEventListener("click",()=>{n(e.dataset.tab)})});const t=document.querySelector("[data-tab].active");t&&n(t.dataset.tab)}document.querySelectorAll(".input-list-search").forEach(t=>{const e=t.querySelector("input"),a=t.querySelector(".custom-list"),l=()=>{const s=e.value.trim().toLowerCase();let c=!1;a.querySelectorAll("li").forEach(o=>{const i=o.textContent.toLowerCase().includes(s);o.style.display=i?"block":"none",i&&(c=!0)}),s&&c&&a.classList.remove("hide")};e.addEventListener("focus",()=>{a.classList.remove("hide"),l()}),e.addEventListener("input",l),a.querySelectorAll("li").forEach(s=>{s.addEventListener("click",()=>{e.value=s.textContent,a.classList.add("hide")})}),document.addEventListener("click",s=>{t.contains(s.target)||a.classList.add("hide")})}),document.querySelectorAll(".tag-select").forEach(t=>{new Choices(t,{removeItemButton:!0,placeholderValue:"Виберіть або введіть...",searchPlaceholderValue:"Пошук...",duplicateItemsAllowed:!1})}),document.querySelectorAll(".image-upload").forEach(t=>{const e=t.querySelector('input[type="file"]'),a=t.querySelector("img");e.addEventListener("change",l=>{const s=l.target.files[0];if(s&&s.type.startsWith("image/")){const c=new FileReader;c.onload=function(o){a.src=o.target.result,a.style.display="block"},c.readAsDataURL(s)}else a.src="",a.style.display="none",alert("Будь ласка, виберіть зображення (JPEG, PNG, WEBP...)")})})});
